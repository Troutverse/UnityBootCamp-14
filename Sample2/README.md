# 유니티 스크립트 예제
Unity BootCamp 14th Projects

### 유니티 생명주기
> 유니티에서는 스크립트의 실행부터 종료까지, 상황에 맞게 작업을 수행할 수 있도록 다양한 '이벤트 함수(생명 주기 함수)'를 제공합니다. 스크립트 내에 이 함수들을 작성하고 원하는 명령문을 넣으면 유니티 엔진이 정해진 시점에 해당 기능을 자동으로 호출하여 수행합니다.

### 이벤트 함수

| 제목       | 내용                                    | 설명                                                                                                                                                                                                                                           |
|----------|-----------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `Awake()`  | 씬이 시작될 때 한 번만 호출되는 영역     | 스크립트가 비활성화 상태여도 이 영역의 작업은 수행됩니다. 다른 개체의 초기화가 완료된 후 호출되므로, 다른 컴포넌트에 대한 참조를 만들기에 안전합니다. 코루틴은 이 영역에서 실행이 불가능하며, 주로 변수 초기화나 값 참조에 활용됩니다. |
| `OnEnable()` | 오브젝트 또는 스크립트가 활성화될 때 호출 | 오브젝트나 스크립트가 활성화될 때마다 호출됩니다. 비활성화에서 활성화 상태로 전환될 때도 호출되며, 주로 이벤트 연결 등에 사용됩니다. 이 영역에서도 코루틴은 사용할 수 없습니다.                                                                     |
| `Start()`  | 모든 스크립트의 Awake가 다 실행된 이후 실행되는 영역 | 모든 스크립트의 `Awake()` 함수가 실행된 후 호출됩니다. 이 영역에서는 코루틴 실행이 가능하며, 초기화된 데이터를 기반으로 게임 로직을 수행하거나 코루틴 작업을 시작하는 데 적합합니다.                                                         |
| `Update()` | 화면에 렌더링 되는 것 (주기는 프레임 기준) | 매 프레임마다 호출되는 영역입니다 (하드웨어 성능에 따라 주기가 다를 수 있습니다). 프로그램 내에서 핵심적으로 계속 사용되는 메인 로직(예: 키 입력 기반 움직임, 지속적인 업데이트가 필요한 상황)을 처리하는 데 사용됩니다. `Update()` 사용을 피하면 피할수록 성능이 향상될 수 있으므로, 다른 이벤트 함수나 코루틴, 이벤트 시스템 등을 활용하여 `Update()`의 부담을 줄이는 것이 중요합니다. |
| `FixedUpdate()` | 일정한 발생 주기가 보장되어야 하는 로직에서 사용 | 주로 물리 연산(Rigidbody 사용)과 같이 일정한 시간 간격으로 실행되어야 하는 로직에 사용됩니다. 프레임이 아닌 'Fixed TimeStep' 설정된 값에 의해 호출됩니다.                                                                                      |
| `LateUpdate()` | 모든 Update (FixedUpdate 포함) 함수가 호출된 다음에 마지막으로 호출되는 영역 | 모든 `Update()` 관련 함수들이 호출된 후에 마지막으로 호출되는 영역입니다. 카메라 이동이나 캐릭터의 후처리 작업 등 다른 오브젝트의 업데이트가 완료된 후 실행되어야 하는 작업에 주로 사용됩니다.                                      |

---
### 컴포넌트 참조 및 `GameObject.FindWithTag()`, `GetComponent<T>()`
> 유니티에서 특정 게임 오브젝트를 찾고, 그 오브젝트에 붙어있는 스크립트(컴포넌트)를 가져오는 방법

* **`GameObject.FindWithTag("태그")`**: 씬(Scene) 내의 수많은 게임 오브젝트들 중에서 특정 '태그'를 가진 오브젝트를 찾아 가져오는 기능입니다. 이 기능이 돌려주는 값은 찾은 **게임 오브젝트 자체**입니다.
* **`GetComponent<T>()`**: 특정 게임 오브젝트에 붙어있는 컴포넌트들 중에서 `<T>`에 해당하는 유형의 컴포넌트를 찾아 가져오는 기능입니다. 이를 통해 해당 컴포넌트의 기능이나 데이터에 접근할 수 있습니다.

### 오브젝트 캐싱 (Object Caching)
> 유니티에서 컴포넌트를 효율적으로 참조하는 '캐싱(Caching)'의 중요성을 학습합니다.

* **캐싱의 의도:**
    * **시간 지역성**: 가장 최근에 사용된 값이 다시 사용될 가능성이 높습니다.
    * **공간 지역성**: 최근에 접근한 주소와 인접한 주소의 변수가 사용될 가능성이 높습니다.
* **`GetComponent<T>()`의 효율적인 사용:**
    * `GetComponent<T>()` 함수는 호출될 때마다 일정량의 성능 비용이 발생합니다. `Update()`와 같이 매 프레임 호출되는 함수 내에서 이 함수를 반복적으로 호출하면 성능에 불필요한 부담을 줄 수 있습니다.
    * 따라서 `Awake()`나 `Start()`와 같은 초기화 단계에서 컴포넌트를 한 번만 가져와 변수에 저장(캐싱)해두고, 이후에는 이 저장된 변수를 재사용하는 것이 성능 최적화에 매우 중요합니다.
